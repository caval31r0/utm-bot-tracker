(()=>{const e=document.currentScript.getAttribute("data-endpoint"),t=document.getElementById("entrarBtn");if(!e)return console.error("⚠️ data-endpoint não definido.");if(!t)return console.warn("⚠️ Botão #entrarBtn não encontrado.");t.addEventListener("click",async()=>{const t=new URLSearchParams(window.location.search),n={utm_source:t.get("utm_source")||"",utm_campaign:t.get("utm_campaign")||"",utm_medium:t.get("utm_medium")||"",utm_content:t.get("utm_content")||"",utm_term:t.get("utm_term")||""};try{const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r=await t.json();r.telegramLink?window.location.href=r.telegramLink:alert("Erro ao gerar link.")}catch(t){console.error(t),alert("Erro ao conectar com o servidor.")}})})();
